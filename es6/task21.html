<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
// task21_Iterators.1: List iterator

/* Make the List class (a linked list implementation) iterable by adding a [Symbol.iterator] method.

 (Remember: an iterator is an object with a next method that returns {value, done} objects.)
*/
        class List {
            constructor(head, tail) {
                this.head = head;
                this.tail = tail
            }

            map(f) {
                return new List(f(this.head), this.tail && this.tail.map(f))
            }
            [Symbol.iterator]() {
                let i = 0;
                let array = [];
                let a = this.map((item) => {
                    array.push(item);
                });
                
                return {
                    next() {
                        let res = {
                            value: undefined,
                            done: true
                        };
                       if(i < array.length) {
                            res.value = array[i];
                            res.done = !array[i];
                            i++;
                       } else {
                           res.done = true;
                       }
                        return res;
                    }
                }
            }
         }

        let list = new List("x", new List("y", new List("z", null)))


        for (let elt of list) console.log(elt)
        // â†’ x
        //   y
        //   z
    </script>
</body>
</html>